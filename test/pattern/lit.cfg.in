import lit.formats

config.name = 'pattern'
config.test_format = lit.formats.ShTest(True)
config.suffixes = {'.c'}
config.test_exec_root = r'@CMAKE_CURRENT_BINARY_DIR@'
config.available_features.add(r'@CMAKE_SYSTEM_PROCESSOR@')
emulator = r'@CMAKE_CROSSCOMPILING_EMULATOR@'.replace(';', ' ')
config.substitutions.append(('%lotto', rf'stdbuf -i0 -o0 -e0 {emulator} @CMAKE_BINARY_DIR@/lotto'))
config.substitutions.append(('%logfile', rf'%S/log/$(basename %s .c).log'))
config.substitutions.append(('%b', rf'{emulator} %S/../$(basename %s .c)'))
